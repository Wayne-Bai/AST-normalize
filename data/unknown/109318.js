! âœ– / env;
node;
var test = require("tape");
var bufferEqual = require("buffer-equal");
var WebSocketFrame = require("../../lib/WebSocketFrame");
test("Serializing a WebSocket Frame with no data", function(t)  {
      t.plan(2);
      var maskBytesBuffer = new Buffer(4);
      var frameHeaderBuffer = new Buffer(10);
      var frameBytes;
      var frame = new WebSocketFrame(maskBytesBuffer, frameHeaderBuffer,  {} );
      frame.fin = true;
      frame.mask = true;
      frame.opcode = 9;
      t.doesNotThrow(function()  {
            frameBytes = frame.toBuffer(true);
         }, 
         "should not throw an error");
      t.assert(bufferEqual(frameBytes, new Buffer("898000000000", "hex")), "Generated bytes should be correct");
      t.end();
   }
);
