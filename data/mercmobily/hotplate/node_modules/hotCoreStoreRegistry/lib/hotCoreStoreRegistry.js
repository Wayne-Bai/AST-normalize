"use strict";

/*!
 * Module dependencies.
 */

var dummy
  , hotplate = require('hotplate')
;


exports.getAllStores = hotplate.cachable( function( done ){
  
  var res = {};

  hotplate.hotEvents.emitCollect( 'stores', function( err, results){

    results.forEach( function( element ) {

      Object.keys( element.result ).forEach( function( k ){

       var store = element.result[ k ];

       // Add the module to the store registry
       res[ store.storeName ] = store;

      });
      
    });
    done( null, res );
  });

});



