/**
 * Dead simple logging service based on visionmedia/debug
 * @module log
 */

var debug = require('debug'),
  argsarray = require('argsarray');

module.exports = function(name) {
  var log = debug('siesta:' + name);
  var fn = argsarray(function(args) {
    log.call(log, args);
  });
  Object.defineProperty(fn, 'enabled', {
    get: function() {
      return debug.enabled(name);
    }
  });
  return fn;
};