var a = [1, 2, 3, 4, 5];
var i = {};
i.valueOf = function() {
 a.length = 1;
 return 5;
}
a.slice(0, i);